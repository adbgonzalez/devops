# Git e GitHub  

---

## √çndice
- Introduci√≥n  
- Git  
- Funcionamento de Git  
- Comandos b√°sicos de Git  
- DevSecOps  

---

## Introduci√≥n

Un **sistema de control de versi√≥ns (VCS)** √© un software que nos permite xestionar un rexistro de cambios que realizamos a un conxunto de ficheiros ao longo do tempo.  
Fai posible recuperar versi√≥ns espec√≠ficas e √© especialmente √∫til en proxectos nos que traballan varias persoas de forma simult√°nea.  

Outros nomes:  
- Xesti√≥n do c√≥digo fonte (SCM)  
- Sistema de control de revisi√≥ns  

---

## Caracter√≠sticas

- Permiten reverter cambios a unha versi√≥n anterior.  
- Permiten resolver conflitos se varias persoas traballan sobre un ficheiro ao mesmo tempo.  
- Funcionamento distribuido: permiten copias de seguridade remotas.  
- Desenvolvemento non lineal mediante **ramas (branches)**.

---

## Ferramentas

- **Git** ‚Üí [https://git-scm.com/](https://git-scm.com/)  
- **CVS** ‚Üí [https://www.nongnu.org/cvs/](https://www.nongnu.org/cvs/)  
- **Apache Subversion (SVN)** ‚Üí [https://subversion.apache.org/](https://subversion.apache.org/)  
- **Mercurial** ‚Üí [https://www.mercurial-scm.org/](https://www.mercurial-scm.org/)  
- **Monotone** ‚Üí [https://www.monotone.ca/](https://www.monotone.ca/)  
- **Bazaar** ‚Üí [https://bazaar.canonical.com/en](https://bazaar.canonical.com/en)  

---
| **Caracter√≠stica** | **SVN** | **Git** |
|---------------------|----------|---------|
| **Repositorio** | Centralizado | Distribuido |
| **Conectividade** | Require conexi√≥n ao servidor para a maior√≠a de operaci√≥ns. | Permite traballar offline e sincronizar despois. |
| **Velocidade** | Lento debido √° dependencia do servidor. | R√°pido grazas a ser distribuido. |
| **Ramas** | Costosas e lentas de crear e fusionar | Lixeiras e r√°pidas |
| **Fusi√≥n** | Complicada e propensa a conflitos | Optimizado, mellor manexo de fusi√≥ns autom√°ticas |
| **Historial** | Centralizado, lineal e f√°cil de modificar. | Distribuido e m√°is dif√≠cil de modificar. |
| **Seguridade** | Baseada en permisos no servidor | Baseado en criptograf√≠a con SHA-1 e verificaci√≥ns de integridade. |

---
## Git

Empregaremos **Git** por ser un dos m√°is eficientes e estendidos.

### Conceptos b√°sicos

- **Repositorio:** contedor onde Git garda o historial de cambios.  
- **Commit:** punto do historial que representa un cambio gardado.  
- **Rama (branch):** li√±a de desenvolvemento diferente.  
- **Merge:** fusi√≥n entre ramas.  
- **Staging area:** zona onde se preparan os arquivos antes de confirmalos.  

---

## Funcionamento

Git emprega repositorios **locais** e **remotos**.  
Dentro do equipo local traballamos nun **working directory**.  
Non todos os ficheiros do directorio son xestionados por Git, s√≥ aqueles inclu√≠dos no **staging area**.

![alt text](images/funcionamento_git.png)

As versi√≥ns dos ficheiros vanse gardando no repositorio local e, se se desexa, transm√≠tense ao remoto.

Un **commit** √© unha imaxe dos cambios feitos ata certo momento. Estas imaxes non se modificar√°n a non ser que se faga expl√≠citamente.

![commit](images/commit.png)
As distintas ramas poden:  
- **Mezclarse (merge)**  
- **Situarse unha detr√°s doutra (rebase)**

![Comparaci√≥n merge - rebase](images/merge_rebase.png)

---

## Comandos b√°sicos

### Configuraci√≥n

Configura os datos b√°sicos de Git antes de comezar a traballar.

- **Definir o nome de usuario global:**
  ```bash
  git config --global user.name "usuario"
  ```

- **Definir o editor por defecto (por exemplo, Emacs, Vim, Nano...):**
  ```bash
  git config --global core.editor emacs
  ```

- **Configurar o comportamento dos fins de li√±a (LF/CRLF):**
  ```bash
  git config --global core.autocrlf input|true
  ```

üí° *Ao traballar con Docker √© recomendable empregar a opci√≥n de Linux:* `input`.

---

### Creaci√≥n e clonaci√≥n

- **Crear un novo repositorio local:**
  ```bash
  git init
  ```

- **Clonar un repositorio remoto existente:**
  ```bash
  git clone https://url/repositorio.git
  ```

---

### Seguimento de cambios

- **Ver o estado actual do repositorio (arquivos modificados, engadidos, etc.):**
  ```bash
  git status
  ```

- **Engadir un ficheiro espec√≠fico ao ‚Äústaging area‚Äù:**
  ```bash
  git add arquivo.txt
  ```

- **Engadir todos os cambios do directorio actual:**
  ```bash
  git add .
  ```

- **Eliminar un ficheiro do ‚Äústaging area‚Äù (sen borrar o ficheiro):**
  ```bash
  git restore --staged arquivo.txt
  ```

---

### Confirmaci√≥n de cambios

- **Crear un novo commit cos cambios preparados:**
  ```bash
  git commit -m "Mensaxe clara"
  ```

- **Modificar o √∫ltimo commit (por exemplo, para corrixir a mensaxe):**
  ```bash
  git commit --amend
  ```

---

### Traballar con ramas

- **Crear unha nova rama:**
  ```bash
  git branch nova-rama
  ```

- **Cambiar a unha rama existente:**
  ```bash
  git checkout nova-rama
  ```

- **Listar todas as ramas dispo√±ibles:**
  ```bash
  git branch
  ```

- **Fusionar outra rama coa actual:**
  ```bash
  git merge nome-rama
  ```

- **Eliminar unha rama:**
  ```bash
  git branch -d nome-rama
  ```

---

### Sincronizaci√≥n con repositorio remoto

- **Engadir un repositorio remoto:**
  ```bash
  git remote add origin https://github.com/usuario/repositorio.git
  ```

- **Subir cambios locais ao remoto:**
  ```bash
  git push origin nome-rama
  ```

- **Obter e integrar cambios do remoto:**
  ```bash
  git pull origin nome-rama
  ```

---

### Desfacer cambios

- **Reverter un ficheiro ao √∫ltimo commit:**
  ```bash
  git checkout -- arquivo.txt
  ```

- **Outra opci√≥n moderna para restaurar un ficheiro:**
  ```bash
  git restore arquivo.txt
  ```

- **Descartar todos os cambios locais e volver ao √∫ltimo commit:**
  ```bash
  git reset --hard HEAD
  ```

- **Actualizar o proxecto local cos cambios remotos:**
  ```bash
  git pull origin nome-rama
  ```

---

### Outros comandos √∫tiles

- **Ver o historial de commits:**
  ```bash
  git log
  ```

- **Amosar as diferenzas entre arquivos modificados:**
  ```bash
  git diff
  ```

- **Gardar temporalmente cambios sen facer commit (stash):**
  ```bash
  git stash
  ```

- **Crear etiquetas (tags) para versi√≥ns espec√≠ficas:**
  ```bash
  git tag
  ```

---

## GitHub

**GitHub** √© unha plataforma que permite almacenar, compartir e colaborar na realizaci√≥n de c√≥digo.

### Funcionalidades principais

- Presentar ou compartir traballo.  
- Seguir e administrar cambios no c√≥digo ao longo do tempo.  
- Deixar que outros usuarios revisen o c√≥digo e realicen suxesti√≥ns para melloralo.  
- Colaborar sen preocuparse de que os cambios afecten a outros colaboradores.

---

### Crear unha conta

1. Ir a [https://github.com](https://github.com)  
2. Facer clic en *Registrarse*  
3. Seguir as instruci√≥ns

---

### Uso de SSH recomendado

Gu√≠a: [Engadir unha nova clave SSH a GitHub](https://docs.github.com/es/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account)

Para crear unha clave SSH no equipo local:

```bash
ssh-keygen
```

Isto xerar√° d√∫as claves (p√∫blica e privada) no directorio `~/.ssh`.  
A clave p√∫blica s√∫bese a GitHub.

---

## Fluxos de traballo

### 1. S√≥ con rama principal (main/master)

Recomendado para proxectos e equipos pequenos.
![S√≥ unha rama](images/github-fluxo-unha-rama.png)
---

### 2. Baseado en funcionalidades

- A rama `main` ten sempre a versi√≥n estable.  
- As novas funcionalidades desenv√≥lvense en ramas separadas (*features*).  
- Ao rematar, faise un **merge** cara √° rama principal.
![Features](images/github-fluxo-features.png)
---

### 3. Gitflow

Recomendado para proxectos e equipos grandes.  
A rama `master/main` empr√©gase s√≥ para **releases**.
![Gitflow](images/github-fluxo-gitflow.png)
---

### 4. Forking workflow

- Cada desenvolvedor fai un **fork** (copia do repositorio).  
- Cada un traballa na s√∫a propia copia.  
- Cando remata o seu traballo, realiza un **pull request**.  
- As modificaci√≥ns son revisadas e aprobadas antes de incorporarse.
![Forking workflow](images/forking-workflow.svg)
---

## Referencias

- [Documentaci√≥n oficial de Git](https://git-scm.com/doc)  
- [Documentaci√≥n de GitHub](https://docs.github.com/es)  
- [Gitflow ‚Äì Aula Software Libre](https://aulasoftwarelibre.github.io/taller-de-git/gitflow/#-git-flow-hotfix)
